
<div style="display: flex; justify-content: center;">
  <button mat-button [matMenuTriggerFor]="menuRef"><mat-icon class="mat-18">menu</mat-icon> <span>Colecciones</span> </button>

  <mat-menu #menuRef="matMenu">
    <ng-template let-doc let-i="index" ngFor [ngForOf]="collections">
        <button *ngIf="doc != 'users' && doc != 'documentos' && doc != 'operaciones'" mat-menu-item (click)="passDataCollections(doc)">
            <mat-icon class="mat-18">check</mat-icon>  
            {{doc}}   
        </button>
    </ng-template> 
  </mat-menu>
</div>
  <mat-tab-group *ngIf="informeCateg">
    
    <mat-tab label="Categoria"> 
      <div>
        <table style="width: 90%; margin: 0 auto; font-size: 1.3em;" class="mat-elevation-z8">
          <thead style="background-color:rgb(63, 62, 62) ; color:white; padding: 15px; font-size: 1.3em; border-radius: 10px;">
            <tr style="border-radius:20px">
              <td style="text-align:center; padding:5px; ">Codigo</td>
              <td  style="text-align:center; padding:5px; ">Categoria</td>
              <td style="text-align:center; padding:5px; ">Unidades</td>
              <td style="text-align:center; padding:5px; ">Part % </td>
              <td style="text-align:center; padding:5px; ">Total Ventas</td>
              <td style="text-align:center; padding:5px; ">Total COP</td>
              <td style="text-align:center; padding:5px; ">Part % </td>

            </tr>
          </thead>
          <tbody>
            <ng-template let-item let-last="last" ngFor [ngForOf]="informeCateg">
              <tr (click)="passRegistro(item)" class="pointer">
                <td style="text-align:center;">{{item.Codigo[0]}}</td>
                <td>{{item._id}}</td>
                <td style="text-align:right;">{{item.Unidades}}</td>
                <td style="text-align:right;">{{(item.Unidades / totalCategoriaUnd) *100 | number:'0.0-2'}} %</td>
                <td style="text-align:right;">{{item.Ventas | number:'0.0-2' }}</td>
                <td style="text-align:right;">{{item.Cop  | number:'0.0-2'}}</td>
                <td style="text-align:right;">{{(item.Cop / totalCategoriaCop) *100  | number:'0.0-2'}} %</td>
              </tr>
            </ng-template>
            <tr>
              <tr>
              <th colspan="2">
                TOTAL VENTAS 
              </th>
              
              <th style="text-align:right">
                {{totalCategoriaUnd | number:'0.0-0'}}
              </th>
              <td></td>
              <th style="text-align:right">
                {{totalCategoria | number:'0.0-0'}}
              </th>
              <th style="text-align:right">
                {{totalCategoriaCop| number:'0.0-0'}}
              </th>

            </tr>
          </tbody>
        </table>
      </div>


    </mat-tab>

    <mat-tab label="Vendedores">
      <div style="display:flex; justify-content:center; flex-wrap: wrap; margin-top: 20px; width: 90%; margin: 0 auto;" class="mat-elevation-z8">
        <ngx-charts-advanced-pie-chart
        [view]="view"
        [results]="single"
        [scheme]="colorScheme"
        [gradient]="gradient"
        (select)="onSelect($event)"
        (activate)="onActivate($event)"
        (deactivate)="onDeactivate($event)"
        >
      </ngx-charts-advanced-pie-chart> 
      </div>     
      <div>
        <table style="width: 90%; margin: 0 auto; font-size: 1.3em;"  class="mat-elevation-z8">
          <thead style="background-color:rgb(63, 62, 62) ; color:white; padding: 15px; font-size: 1.3em; border-radius: 10px;">
            <tr>
              <td style="text-align:center; padding:5px; ">Codigo</td>
              <td style="text-align:center; padding:5px; ">Vendedor</td>
              <td style="text-align:center; padding:5px; ">Unds</td>
              <td style="text-align:center; padding:5px; ">USD</td>
              <td style="text-align:center; padding:5px; ">PART %</td>
            </tr>
          </thead>
          <tbody>
            <tr>
              <th colspan="3">
                TOTAL VENTAS 
              </th>
              <th>
                {{totalVendedores | number}}
              </th>
            </tr>
            <ng-template let-item let-last="last" ngFor [ngForOf]="informe">
              <tr class="pointer" (click)="passVendedor(item)">
                <td style="text-align:center; padding:5px; ">{{item._id}}</td>
                <td>{{item.Vendedor[0]}}</td>
               
                <td style="text-align:center;">{{item.Unidades}}</td>
                <td style="text-align:right;">{{item.Ventas | number:'0.0-0'}}</td>
                <td style="text-align:right;">{{(item.Ventas / totalVendedores)*100 | number:'0.0-2'}}%</td>
              </tr>
           
      
            </ng-template>
           
          </tbody>
        </table>
      </div>
      <div style="display:flex; justify-content:center; flex-wrap: wrap; margin-top: 20px; width: 90%; margin: 0 auto;" class="mat-elevation-z8">
        <mat-card-content>
          <section class="section">
            <mat-checkbox class="example-margin" [(ngModel)]="showLabels">Etiquetas</mat-checkbox>
            <mat-checkbox class="example-margin" [(ngModel)]="gradient">Gradiente</mat-checkbox>
            <mat-checkbox class="example-margin" [(ngModel)]="showLegend">Leyenda</mat-checkbox>
            <mat-checkbox class="example-margin" [(ngModel)]="isDoughnut">Dona</mat-checkbox>
            <mat-form-field appearance="fill" class="example-margin">
              <mat-label>Tema</mat-label>
              <mat-select [disabled]="">
                <mat-option value="option1" *ngFor="let item of listColorSquema" (click)="cambiarColores(item)"> {{item.name}}</mat-option>
                
              </mat-select>
            </mat-form-field>
      
            
          </section>
      
        </mat-card-content>
        <ngx-charts-pie-chart
          [view]="view"
          [scheme]="colorScheme"
          [results]="single"
          [gradient]="gradient"
          [legend]="showLegend"

          [labels]="showLabels"
          [doughnut]="isDoughnut"
          (select)="onSelect($event)"
          (activate)="onActivate($event)"
          (deactivate)="onDeactivate($event)"
          >
        </ngx-charts-pie-chart>
      </div>
    </mat-tab>

    <mat-tab label="Grafico"> 
     
    </mat-tab>
  </mat-tab-group>



<!-- [scheme]="colorScheme" -->